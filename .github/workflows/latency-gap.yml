name: Enforce Latency Gap

on:
  pull_request:

jobs:
  gap:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v7
        with:
          script: |
            const created = new Date(context.payload.pull_request.created_at);
            const now = new Date();
            const minutesOpen = (now - created) / 60000;
            const required = 60;
            if (minutesOpen < required) {
              core.setFailed(`Latency Gap not satisfied: ${minutesOpen.toFixed(1)} < ${required} minutes`);
            }
